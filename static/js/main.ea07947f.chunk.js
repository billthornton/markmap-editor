(this["webpackJsonpmarkmap-editor"]=this["webpackJsonpmarkmap-editor"]||[]).push([[0],{263:function(e,t,n){},277:function(e,t,n){},279:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),c=n(92),i=n.n(c),o=(n(263),n(5)),s=n(2),u=n.n(s),l=n(10),d=n(94),f=n(93),p=n(11),b=n(12),j=n(14),m=n(15),v=n(31),h=n(95);function x(e){var t,n,r=e.d||-1;if(!(!0===(null===e||void 0===e||null===(t=e.p)||void 0===t?void 0:t.f))&&(null===e||void 0===e||null===(n=e.c)||void 0===n?void 0:n.length)){var a=e.c.flatMap(x);return Math.max.apply(Math,Object(v.a)(a))}return r}function g(e,t){var n;t(e),null===(n=e.c)||void 0===n||n.forEach((function(e){g(e,t)}))}var O=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"collapseTree",value:function(){if(this.state.data){var e,t=x(this.state.data),n=(e=t-2,function(t){t.d&&t.d>=e&&(t.p.f=!0)});g(this.state.data,n),this.renderData()}}},{key:"expandTree",value:function(){if(this.state.data){var e,t=x(this.state.data),n=(e=t,function(t){(null===t||void 0===t?void 0:t.d)===e&&(t.p.f=!1)});g(this.state.data,n),this.renderData()}}}]),n}(h.a),k=n(44),w=n.n(k),C=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)},y=function(){var e=function(e){var t,n=((null===(t=document.querySelector(".mindmap"))||void 0===t?void 0:t.outerHTML)||"").replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ').replaceAll("<br>","<br></br>");return'<?xml version="1.0" encoding="UTF-8"?>'.concat(n)}(),t="data:image/svg;base64,".concat(btoa(e));C(t,"mindmap.svg")},S=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(l.a)(u.a.mark((function r(){var a,c,i,o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=document.querySelector(".mindmap-wrapper")){r.next=3;break}return r.abrupt("return");case 3:return c=a,i=n?"transparent":"white",r.next=7,e(c,{bgcolor:i,scale:2});case 7:o=r.sent,C(o,t);case 9:case"end":return r.stop()}}),r)})))}},R=S(w.a.toPng,"mindmap.png"),E=(S(w.a.toSvg,"mindmap.svg"),n(277),n(1)),M=new f.Transformer;function T(e){var t=e.children,n=e.onClick,r=e.title;return Object(E.jsx)("button",{title:r,onClick:n,className:"controls__button",children:t})}function F(e){var t=e.markMapRef,n=(e.svgElementRef,function(e){return function(){t.current&&t.current.rescale(1*e)}}),r=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=4;break}return t.current.collapseTree(),e.next=4,t.current.fit();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=4;break}return t.current.expandTree(),e.next=4,t.current.fit();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("ul",{className:"controls",children:[Object(E.jsx)("li",{children:Object(E.jsx)(T,{title:"Zoom in",onClick:n(1.2),children:"+"})}),Object(E.jsx)("li",{children:Object(E.jsx)(T,{title:"Zoom out",onClick:n(.8),children:"-"})}),Object(E.jsx)("li",{children:Object(E.jsx)(T,{title:"Collapse nodes",onClick:r,children:"<"})}),Object(E.jsx)("li",{children:Object(E.jsx)(T,{title:"Expand nodes",onClick:a,children:">"})}),Object(E.jsx)("li",{children:Object(E.jsx)(T,{onClick:y,children:"Export SVG"})}),Object(E.jsx)("li",{children:Object(E.jsx)(T,{onClick:R(),children:"Export PNG"})})]})}function N(e){var t=e.value,n=e.markMapRef,a=e.svgElementRef;return Object(r.useEffect)((function(){var e;n.current||a.current&&(n.current=new O(a.current,{duration:0,color:(e=d.a(["#4c28cf","#0e52ec","#ea13b1","#2ec9c2","#0fd991","#d90f32","#f2c317","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]),function(t){return e(t.d.toString())}),nodeMinHeight:20,spacingVertical:8,spacingHorizontal:24,paddingX:8,nodeFont:"400 10px/12px -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"}))}),[n,a]),Object(r.useEffect)((function(){var e=n.current;if(e){var r=M.transform(t).root;e.setData(r),e.fit()}}),[n,t]),Object(E.jsx)("div",{className:"mindmap-wrapper",children:Object(E.jsx)("svg",{className:"mindmap",ref:a})})}function P(e){var t=e.value,n=e.onChange,a=Object(r.useRef)(null);return Object(E.jsxs)("details",{className:"sidebar",open:!0,onToggle:function(e){e.target.open&&a.current&&a.current.focus()},children:[Object(E.jsx)("textarea",{ref:a,className:"",value:t,onChange:function(e){n(e.target.value)}}),Object(E.jsx)("summary",{children:Object(E.jsx)("b",{className:"summary-text",children:"\u276f"})})]})}var D=function(){var e=new URLSearchParams(document.location.search).get("input"),t=e&&atob(e),n=Object(r.useState)(t||"# Title\n\n- one\n- two\n- third item\n  - fourth item\n    second line\n  - five\n    - six\n\n"),a=Object(o.a)(n,2),c=a[0],i=a[1],s=Object(r.useRef)(null),u=Object(r.useRef)(null);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(P,{value:c,onChange:function(e){var t=new URLSearchParams(document.location.search);t.set("input",btoa(e));var n=window.location.pathname+"?"+t.toString();window.history.pushState(null,"",n),i(e)}}),Object(E.jsx)(N,{value:c,markMapRef:s,svgElementRef:u}),Object(E.jsx)(F,{markMapRef:s,svgElementRef:u})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,285)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(D,{})}),document.getElementById("root")),L()}},[[279,1,2]]]);
//# sourceMappingURL=main.ea07947f.chunk.js.map