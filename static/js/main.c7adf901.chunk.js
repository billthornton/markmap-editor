(this["webpackJsonpmarkmap-editor"]=this["webpackJsonpmarkmap-editor"]||[]).push([[0],{264:function(e,t,n){},278:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),c=n(93),i=n.n(c),o=(n(264),n(5)),u=n(2),s=n.n(u),l=n(10),d=n(95),f=n(94),p=n(44),v=n(11),b=n(12),j=n(14),h=n(15),m=n(31),x=n(96);function O(e){var t,n,r=e.d||-1;if(!(!0===(null===e||void 0===e||null===(t=e.p)||void 0===t?void 0:t.f))&&(null===e||void 0===e||null===(n=e.c)||void 0===n?void 0:n.length)){var a=e.c.flatMap(O);return Math.max.apply(Math,Object(m.a)(a))}return r}var g=function(e){return function(t){t.d&&t.d>=e&&(t.p.f=!0)}},k=function(e){return function(t){(null===t||void 0===t?void 0:t.d)===e&&(t.p.f=!1)}},w=function(e){(null===e||void 0===e?void 0:e.d)&&(e.p.f=!1)},y=function(e){(null===e||void 0===e?void 0:e.d)&&(e.p.f=!0)};function C(e,t){var n;t(e),null===(n=e.c)||void 0===n||n.forEach((function(e){C(e,t)}))}var S=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"collapseTree",value:function(){if(this.state.data){var e=O(this.state.data),t=g(e-2);C(this.state.data,t),this.renderData()}}},{key:"expandTree",value:function(){if(this.state.data){var e=O(this.state.data),t=k(e);C(this.state.data,t),this.renderData()}}},{key:"handleClick",value:function(e,t){var n,r=e.shiftKey,a=e.altKey,c=t.data,i=!0===(null===c||void 0===c||null===(n=c.p)||void 0===n?void 0:n.f);if(r)C(c,i?w:y);else if(a){var o=c.d||-1,u=i?k(o):g(o);C(t.parent.data,u)}else c.p=Object(p.a)(Object(p.a)({},c.p),{},{f:!i});this.renderData(c)}}]),n}(x.a),R=n(45),E=n.n(R),M=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)},T=function(){var e=function(e){var t,n=((null===(t=document.querySelector(".mindmap"))||void 0===t?void 0:t.outerHTML)||"").replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ').replaceAll("<br>","<br></br>");return'<?xml version="1.0" encoding="UTF-8"?>'.concat(n)}(),t="data:image/svg;base64,".concat(btoa(e));M(t,"mindmap.svg")},F=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(l.a)(s.a.mark((function r(){var a,c,i,o;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=document.querySelector(".mindmap-wrapper")){r.next=3;break}return r.abrupt("return");case 3:return c=a,i=n?"transparent":"white",r.next=7,e(c,{bgcolor:i,scale:2});case 7:o=r.sent,M(o,t);case 9:case"end":return r.stop()}}),r)})))}},N=F(E.a.toPng,"mindmap.png"),D=(F(E.a.toSvg,"mindmap.svg"),n(278),n(1)),P=new f.Transformer;function L(e){var t=e.children,n=e.onClick,r=e.title;return Object(D.jsx)("button",{title:r,onClick:n,className:"controls__button",children:t})}function U(e){var t=e.markMapRef,n=(e.svgElementRef,function(e){return function(){t.current&&t.current.rescale(1*e)}}),r=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=4;break}return t.current.collapseTree(),e.next=4,t.current.fit();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=4;break}return t.current.expandTree(),e.next=4,t.current.fit();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)("ul",{className:"controls",children:[Object(D.jsx)("li",{children:Object(D.jsx)(L,{title:"Zoom in",onClick:n(1.2),children:"+"})}),Object(D.jsx)("li",{children:Object(D.jsx)(L,{title:"Zoom out",onClick:n(.8),children:"-"})}),Object(D.jsx)("li",{children:Object(D.jsx)(L,{title:"Collapse nodes",onClick:r,children:"<"})}),Object(D.jsx)("li",{children:Object(D.jsx)(L,{title:"Expand nodes",onClick:a,children:">"})}),Object(D.jsx)("li",{children:Object(D.jsx)(L,{onClick:T,children:"Export SVG"})}),Object(D.jsx)("li",{children:Object(D.jsx)(L,{onClick:N(),children:"Export PNG"})})]})}function H(e){var t=e.value,n=e.markMapRef,a=e.svgElementRef;return Object(r.useEffect)((function(){var e;n.current||a.current&&(n.current=new S(a.current,{duration:0,color:(e=d.a(["#4c28cf","#0e52ec","#ea13b1","#2ec9c2","#0fd991","#d90f32","#f2c317","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]),function(t){return e(t.d.toString())}),nodeMinHeight:20,spacingVertical:8,spacingHorizontal:24,paddingX:8,nodeFont:"400 10px/12px -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"}))}),[n,a]),Object(r.useEffect)((function(){var e=n.current;if(e){var r=P.transform(t).root;e.setData(r),e.fit()}}),[n,t]),Object(D.jsx)("div",{className:"mindmap-wrapper",children:Object(D.jsx)("svg",{className:"mindmap",ref:a})})}function A(e){var t=e.value,n=e.onChange,a=Object(r.useRef)(null);return Object(D.jsxs)("details",{className:"sidebar",open:!0,onToggle:function(e){e.target.open&&a.current&&a.current.focus()},children:[Object(D.jsx)("textarea",{ref:a,className:"",value:t,onChange:function(e){n(e.target.value)}}),Object(D.jsx)("summary",{children:Object(D.jsx)("b",{className:"summary-text",children:"\u276f"})})]})}var B=function(){var e=new URLSearchParams(document.location.search).get("input"),t=e&&atob(e),n=Object(r.useState)(t||"# Title\n\n- one\n- two\n- third item\n  - fourth item\n    second line\n  - five\n    - six\n\n"),a=Object(o.a)(n,2),c=a[0],i=a[1],u=Object(r.useRef)(null),s=Object(r.useRef)(null);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(A,{value:c,onChange:function(e){var t=new URLSearchParams(document.location.search);t.set("input",btoa(e));var n=window.location.pathname+"?"+t.toString();window.history.pushState(null,"",n),i(e)}}),Object(D.jsx)(H,{value:c,markMapRef:u,svgElementRef:s}),Object(D.jsx)(U,{markMapRef:u,svgElementRef:s})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,286)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(B,{})}),document.getElementById("root")),I()}},[[280,1,2]]]);
//# sourceMappingURL=main.c7adf901.chunk.js.map