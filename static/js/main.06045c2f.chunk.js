(this["webpackJsonpmarkmap-editor"]=this["webpackJsonpmarkmap-editor"]||[]).push([[0],{261:function(e,t,n){},276:function(e,t,n){},278:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),c=n(90),i=n.n(c),o=(n(261),n(5)),s=n(2),u=n.n(s),l=n(15),f=n(92),d=n(91),b=n(10),j=n(11),v=n(13),h=n(14),p=n(31),m=n(93);function x(e){var t,n,r=e.d||-1;if(!(!0===(null===e||void 0===e||null===(t=e.p)||void 0===t?void 0:t.f))&&(null===e||void 0===e||null===(n=e.c)||void 0===n?void 0:n.length)){var a=e.c.flatMap(x);return Math.max.apply(Math,Object(p.a)(a))}return r}function O(e,t){var n;t(e),null===(n=e.c)||void 0===n||n.forEach((function(e){O(e,t)}))}var g=function(e){Object(v.a)(n,e);var t=Object(h.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"collapseTree",value:function(){if(this.state.data){var e,t=x(this.state.data),n=(e=t-2,function(t){t.d&&t.d>=e&&(t.p.f=!0)});O(this.state.data,n),this.renderData()}}},{key:"expandTree",value:function(){if(this.state.data){var e,t=x(this.state.data),n=(e=t,function(t){(null===t||void 0===t?void 0:t.d)===e&&(t.p.f=!1)});O(this.state.data,n),this.renderData()}}}]),n}(m.a),k=(n(276),n(1)),w=new d.Transformer;function C(e){var t=e.children,n=e.onClick,r=e.title;return Object(k.jsx)("button",{title:r,onClick:n,className:"controls__button",children:t})}function y(e){var t=e.markMapRef,n=e.svgElementRef,r=function(e){return function(){t.current&&t.current.rescale(1*e)}},a=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=4;break}return t.current.collapseTree(),e.next=4,t.current.fit();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=4;break}return t.current.expandTree(),e.next=4,t.current.fit();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)("ul",{className:"controls",children:[Object(k.jsx)("li",{children:Object(k.jsx)(C,{title:"Zoom in",onClick:r(1.2),children:"+"})}),Object(k.jsx)("li",{children:Object(k.jsx)(C,{title:"Zoom out",onClick:r(.8),children:"-"})}),Object(k.jsx)("li",{children:Object(k.jsx)(C,{title:"Collapse nodes",onClick:a,children:"<"})}),Object(k.jsx)("li",{children:Object(k.jsx)(C,{title:"Expand nodes",onClick:c,children:">"})}),Object(k.jsx)("li",{children:Object(k.jsx)(C,{onClick:function(){var e,t=((null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.outerHTML)||"").replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ').replace("<br>","<br></br>"),r='<?xml version="1.0" encoding="UTF-8"?>'.concat(t),a=document.createElement("a");a.setAttribute("href","data:image/svg;base64,"+btoa(r)),a.setAttribute("download","mindmap.svg"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:"Export"})})]})}function R(e){var t=e.value,n=e.markMapRef,a=e.svgElementRef;return Object(r.useEffect)((function(){var e;n.current||a.current&&(n.current=new g(a.current,{duration:0,color:(e=f.a(["#4c28cf","#0e52ec","#ea13b1","#2ec9c2","#0fd991","#d90f32","#f2c317","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]),function(t){return e(t.d.toString())}),nodeMinHeight:20,spacingVertical:8,spacingHorizontal:24,paddingX:8,nodeFont:"400 10px/12px -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"}))}),[n,a]),Object(r.useEffect)((function(){var e=n.current;if(e){var r=w.transform(t).root;e.setData(r),e.fit()}}),[n,t]),Object(k.jsx)("svg",{className:"mindmap",ref:a})}function S(e){var t=e.value,n=e.onChange,a=Object(r.useRef)(null);return Object(k.jsxs)("details",{className:"sidebar",open:!0,onToggle:function(e){e.target.open&&a.current&&a.current.focus()},children:[Object(k.jsx)("textarea",{ref:a,className:"",value:t,onChange:function(e){n(e.target.value)}}),Object(k.jsx)("summary",{children:Object(k.jsx)("b",{className:"summary-text",children:"\u276f"})})]})}var E=function(){var e=new URLSearchParams(document.location.search).get("input"),t=e&&atob(e),n=Object(r.useState)(t||"# Title\n\n- one\n- two\n- third item\n  - fourth item\n    second line\n  - five\n    - six\n\n"),a=Object(o.a)(n,2),c=a[0],i=a[1],s=Object(r.useRef)(null),u=Object(r.useRef)(null);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(S,{value:c,onChange:function(e){var t=new URLSearchParams(document.location.search);t.set("input",btoa(e));var n=window.location.pathname+"?"+t.toString();window.history.pushState(null,"",n),i(e)}}),Object(k.jsx)(R,{value:c,markMapRef:s,svgElementRef:u}),Object(k.jsx)(y,{markMapRef:s,svgElementRef:u})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,284)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(E,{})}),document.getElementById("root")),M()}},[[278,1,2]]]);
//# sourceMappingURL=main.06045c2f.chunk.js.map