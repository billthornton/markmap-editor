{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["transformer","Transformer","Control","children","onClick","className","Controls","markMapRef","onZoom","multiplier","current","rescale","Mindmap","value","svgElementRef","useEffect","colorFn","Markmap","create","duration","color","d3","node","d","toString","nodeMinHeight","spacingVertical","spacingHorizontal","paddingX","nodeFont","markMap","root","transform","setData","fit","ref","Sidebar","onChange","textAreaRef","useRef","open","onToggle","e","target","focus","App","valueFromParams","URLSearchParams","document","location","search","get","decodedValueFromParams","atob","useState","setValue","newValue","searchParams","set","btoa","newRelativePathQuery","window","pathname","history","pushState","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.10d45e1e.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { INode } from 'markmap-common';\nimport { Transformer } from 'markmap-lib';\nimport { Markmap } from 'markmap-view';\nimport './App.css';\n\nconst transformer = new Transformer();\nconst initValue = `# Title\n\n- one\n- two\n- third item\n  - fourth item\n    second line\n  - five\n    - six\n\n`;\n\nfunction Control({ children, onClick }: { children: React.ReactChild | React.ReactChild[], onClick: any }) {\n  return <button onClick={onClick} className=\"controls__button\">{children}</button>\n}\n\nfunction Controls({ markMapRef }: { markMapRef: React.MutableRefObject<Markmap | null> }) {\n\n  const onZoom = (multiplier: number) => () => {\n    if (markMapRef.current) {\n      markMapRef.current.rescale(1 * multiplier)\n    }\n  }\n\n  return <ul className=\"controls\">\n    <li><Control onClick={onZoom(1.2)}>+</Control></li>\n    <li><Control onClick={onZoom(0.8)}>-</Control></li>\n  </ul>\n}\n\nfunction Mindmap({ value, markMapRef, svgElementRef }: { value: string, markMapRef: React.MutableRefObject<Markmap | null>, svgElementRef: React.MutableRefObject<SVGSVGElement | null> }) {\n  useEffect(() => {\n    if (markMapRef.current) return;\n    if (!svgElementRef.current) return;\n\n    markMapRef.current = Markmap.create(svgElementRef.current, {\n      duration: 0,\n      color: (\n        (colorFn) =>\n          (node: INode): string =>\n            colorFn(node.d!.toString())\n      )(d3.scaleOrdinal([\"#4c28cf\", \"#0e52ec\", \"#ea13b1\", \"#2ec9c2\", \"#0fd991\", \"#d90f32\", \"#f2c317\", \"#377eb8\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\", \"#ffff33\", \"#a65628\", \"#f781bf\", \"#999999\"])),\n      nodeMinHeight: 20,\n      spacingVertical: 8,\n      spacingHorizontal: 24,\n      paddingX: 8,\n      nodeFont: `400 10px/12px -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif`\n    });\n  }, []);\n\n  useEffect(() => {\n    const markMap = markMapRef.current;\n    if (markMap) {\n      const { root } = transformer.transform(value);\n      markMap.setData(root);\n      markMap.fit();\n    }\n\n  }, [value]);\n\n  return (\n    <svg className=\"mindmap\" ref={svgElementRef} />\n  );\n}\n\nfunction Sidebar({ value, onChange }: { value: string, onChange: any }) {\n  const textAreaRef = useRef<HTMLTextAreaElement>(null);\n\n  const handleChange = (e: any) => {\n    onChange(e.target.value);\n  };\n\n  const handleToggle = (e: any) => {\n    if (e.target.open && textAreaRef.current) {\n      textAreaRef.current.focus();\n    }\n  };\n\n  return (\n    <details className=\"sidebar\" open onToggle={handleToggle}>\n      <textarea\n        ref={textAreaRef}\n        className=\"\"\n        value={value}\n        onChange={handleChange}\n      />\n\n      <summary><b className=\"summary-text\">&#10095;</b></summary>\n    </details>\n  )\n}\n\n\nfunction App() {\n  const valueFromParams = new URLSearchParams(document.location.search).get('input');\n  const decodedValueFromParams = valueFromParams && atob(valueFromParams);\n  const [value, setValue] = useState(decodedValueFromParams || initValue);\n\n\n  const markMapRef = useRef<Markmap | null>(null);\n  const svgElementRef = useRef<SVGSVGElement | null>(null);\n\n  const updateWithNewValue = (newValue: string) => {\n    const searchParams = new URLSearchParams(document.location.search);\n    searchParams.set(\"input\", btoa(newValue));\n    var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n    window.history.pushState(null, '', newRelativePathQuery);\n    setValue(newValue);\n  }\n\n  return (<>\n    <Sidebar value={value} onChange={updateWithNewValue} />\n    <Mindmap value={value} markMapRef={markMapRef} svgElementRef={svgElementRef} />\n    <Controls markMapRef={markMapRef} />\n  </>)\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}